<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<!-- Inform modern browsers that this page supports both dark and light color schemes,
  and the page author prefers light. --><meta name="color-scheme" content="dark light">
<script>
  // If `prefers-color-scheme` is not supported, fall back to light mode.
  // i.e. In this case, inject the `light` CSS before the others, with
  // no media filter so that it will be downloaded with highest priority.
  if (window.matchMedia("(prefers-color-scheme: dark)").media === "not all") {
    document.documentElement.style.display = "none";
    document.head.insertAdjacentHTML(
      "beforeend",
      "<link id=\"css\" rel=\"stylesheet\" href=\"https://bootswatch.com/3/flatly/bootstrap.css\" onload=\"document.documentElement.style.display = ''\">"
    );
  }
</script><title>An R Package for Estimating Stream Lighting Conditions • StreamLight</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- Flatly Theme - Light  --><link id="css-light" rel="stylesheet" href="https://bootswatch.com/3/flatly/bootstrap.css" media="(prefers-color-scheme: light), (prefers-color-scheme: no-preference)">
<!-- Darkly Theme - Dark --><link id="css-dark" rel="stylesheet" href="https://bootswatch.com/3/darkly/bootstrap.css" media="(prefers-color-scheme: dark)">
<!-- preferably CSS --><link rel="stylesheet" href="preferably.css">
<link id="css-code-light" rel="stylesheet" href="code-color-scheme-light.css" media="(prefers-color-scheme: light), (prefers-color-scheme: no-preference)">
<link id="css-code-dark" rel="stylesheet" href="code-color-scheme-dark.css" media="(prefers-color-scheme: dark)">
<script src="darkswitch.js"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="An R Package for Estimating Stream Lighting Conditions">
<meta property="og:description" content="This package contains two models to predict stream lighting conditions.The stream_light function, a">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">StreamLight</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/1%20Download%20and%20process%20NLDAS.html">1. Download and process NLDAS</a>
    </li>
    <li>
      <a href="articles/2%20Download%20and%20process%20MODIS%20LAI.html">2. Download and process MODIS LAI</a>
    </li>
    <li>
      <a href="articles/3%20Using%20stream_light.html">3. Using stream_light</a>
    </li>
    <li>
      <a href="articles/4%20Using%20aqua_light.html">4. Using aqua_light</a>
    </li>
  </ul>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
          <a href="#" id="css-toggle-btn">
            <span class="fas fa-adjust fa-lg"></span>
          </a>
        </li>
        
        <li>
  <a href="https://github.com/psavoy/StreamLight/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
        
        


      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">

<div id="1-introduction" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#1-introduction" class="anchor"></a>1. Introduction</h1></div>
<p>The <strong>StreamLight</strong> package contains two primary functions for predicting photosynthetically active radiation (PAR) for rivers and streams:</p>
<ol>
<li>The <strong><span style="color:DarkOrange">stream_light</span></strong> function predicts PAR at the water surface as a function of channel geometry, riparian vegetation canopy structure and phenology, and sun-earth geometry.</li>
<li>The <strong><span style="color:DarkOrange">aqua_light</span></strong> function predicts PAR at the benthic surface. The <strong><span style="color:DarkOrange">aqua_light</span></strong> function builds on the <strong><span style="color:DarkOrange">stream_light</span></strong> function by allowing for dynamic changes in water width and depth, as well as for accounting for reflection from the water surface and attenuation within the water column as a function of depth and clarity.</li>
</ol>
<p><strong>Usage:</strong> If you use the <strong>StreamLight</strong> package in your research please cite this package. To see the suggested citation for this package, run citation(“StreamLight”) in the R prompt. Additionally, please cite the appropriate manuscript associated with the function you used:</p>
<ul>
<li>
<strong><span style="color:DarkOrange">stream_light</span></strong> function
<ul>
<li>Savoy, P., Bernhardt, E., Kirk, L., Cohen, M. J., &amp; Heffernan, J. B. (2021). A seasonally dynamic model of light at the stream surface. Freshwater Science, 40(April), 000–000. <a href="https://doi.org/10.1086/714270" class="uri">https://doi.org/10.1086/714270</a>
</li>
</ul>
</li>
<li>
<strong><span style="color:DarkOrange">aqua_light</span></strong> function
<ul>
<li>Savoy, P., &amp; Harvey, J. W. (2021). Predicting light regime controls on primary productivity across CONUS river networks. Geophysical Research Letters, 48, e2020GL092149. <a href="https://doi.org/10.1029/2020GL092149" class="uri">https://doi.org/10.1029/2020GL092149</a>
</li>
</ul>
</li>
</ul>
<p><strong>Package support:</strong> Development of the <strong>StreamLight</strong> package has been supported by a National Science Foundation (NSF) Macrosystem Program Grant (#EF 1442439) and by the USGS Water Availability and Use Science Program.</p>
</div>
<div id="2-reference-articles" class="section level1">
<h1 class="hasAnchor">
<a href="#2-reference-articles" class="anchor"></a>2. Reference articles</h1>
<p>See the full <a href="https://psavoy.github.io/StreamLight/"><strong>StreamLight</strong> documentation</a> for individual articles on how to use the package. The documentation page contains a number of articles that detail the usage of the <strong>StreamLight</strong> and <strong>StreamLightUtils</strong> packages. Throughout these articles some terms are emphasized using the below key.</p>
<p><strong>Key</strong></p>
<ul>
<li><strong>packages</strong></li>
<li><strong><span style="color:DarkOrange">functions</span></strong></li>
<li><em><span style="color:#009faf">function arguments</span></em></li>
<li><strong><span style="color:#009688">“column names”</span></strong></li>
</ul>
<p>Individual articles go into depth on each of the following subjects.</p>
<p><strong>Outline</strong></p>
<ol>
<li>
<p><strong>Download and process NLDAS incoming shortwave radiation</strong></p>
<p>Covers downloading and processing National Land Data Assimilation System (NLDAS) total incoming shortwave radiation (W m<sup>-2</sup>) using the <strong>StreamLightUtils</strong> package.</p>
</li>
<li>
<p><strong>Download and process MODIS LAI</strong></p>
<p>Covers downloading and processing MODIS leaf area index (LAI, m<sup>2</sup> m<sup>-2</sup>) using the <strong>StreamLightUtils</strong> package.</p>
</li>
<li>
<p><strong>Using <span style="color:DarkOrange">stream_light</span></strong></p>
<p>Covers the creation of driver files, a parameter file, and running <strong><span style="color:DarkOrange">stream_light</span></strong>.</p>
</li>
<li>
<p><strong>Using <span style="color:DarkOrange">aqua_light</span></strong></p>
<p>Covers the creation of driver files, a parameter file, and running <strong><span style="color:DarkOrange">aqua_light</span></strong>.</p>
</li>
</ol>
</div>
<div id="3-getting-started" class="section level1">
<h1 class="hasAnchor">
<a href="#3-getting-started" class="anchor"></a>3. Getting started</h1>
<p>For convenience, a series of functions have been included in the companion package <strong>StreamLightUtils</strong> to derive some of the values required for parameter files and to create standardized driver files for use with <strong>StreamLight</strong>. Where possible, remotely sensed data products with good broadscale coverage are used to derive these inputs within <strong>StreamLightUtils</strong>. There are of course many potential sources for similar data that could be used to create driver files and users are welcome to create their own workflow for creating driver or parameter files.</p>
<p>For first time installation run the following code:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#Install the devtools package if you do not already have it   </span>
  <span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"devtools"</span><span class="op">)</span>

<span class="co">#Use the devtools packge to install StreamLightUtils</span>
  <span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org//reference/remote-reexports.html">install_github</a></span><span class="op">(</span><span class="st">"psavoy/StreamLightUtils"</span><span class="op">)</span>
  <span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org//reference/remote-reexports.html">install_github</a></span><span class="op">(</span><span class="st">"psavoy/StreamLight"</span><span class="op">)</span></code></pre></div>
<p>Before beginning, Load the <strong>StreamLightUtils</strong> and <strong>StreamLight</strong> libraries.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="st"><a href="https://github.com/psavoy/StreamLightUtils">"StreamLightUtils"</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="st"><a href="https://github.com/psavoy/StreamLight">"StreamLight"</a></span><span class="op">)</span></code></pre></div>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/psavoy/StreamLight/">https://​github.com/​psavoy/​StreamLight/​</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li>CC0</li>
</ul>
</div>
<div class="citation">
<h2>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html">Citing StreamLight</a></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Phil Savoy <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p>Developed by Phil Savoy.</p>
</div>

<div class="pkgdown">
  <p>Made with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1, using <a href="https://preferably.amirmasoudabdol.name/?source=footer">preferably</a> template.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
